from langchain.chains import GraphCypherQAChain
from langchain.chat_models import ChatOpenAI
from langchain.graphs import Neo4jGraph

graph = Neo4jGraph(
    url="neo4j+s://ac4ba3f7.databases.neo4j.io", username="neo4j", password="AWKEeX3JP4VQaD5ch-O6Z_2kuu6ksfJWCUCwdIFJHR0"
)

# !pip install huggingface_hub
repo_id = "mistralai/Mixtral-8x7B-Instruct-v0.1"
from langchain.llms import HuggingFaceHub
llm=HuggingFaceHub(huggingfacehub_api_token='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',
                     repo_id=repo_id, model_kwargs={"temperature":0.2, "max_new_tokens":200})
chain = GraphCypherQAChain.from_llm(llm, graph=graph, verbose=True)


# chain.run("which material is accounting for minimum gwp emission?")